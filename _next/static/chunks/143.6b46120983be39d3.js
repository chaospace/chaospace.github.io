!function(){var t,e,n,a,r,i,o={8185:function(t,e,n){"use strict";let a=t=>Math.random()*t;var r,i,o,l,s=n(4674),c=n(9),h=n(4152),u=n.n(h),f=n(8611);u().join(f.cwd(),"content"),(r=o||(o={})).INITIALIZE="INITIALIZE",r.IMAGE_CHANGE="IMAGE_CHANGE",r.RESIZE="RESIZE",r.DRAW="DRAW",r.SYNC="SYNC",r.WORK_PROGRESS_BEFORE="WORK_PROGRESS_BEFORE",r.WORK_PROGRESS_ING="WORK_PROGRESS_ING",r.WORK_PROGRESS_COMPLETE="WORK_PROGRESS_COMPLETE",(i=l||(l={}))[i.DEFAULAT=0]="DEFAULAT",i[i.INIT=1]="INIT",i[i.PROGRESS=2]="PROGRESS",i[i.COMPLETE=3]="COMPLETE",c.OGB,c.w49,c.irx,c.e_0;let g=t=>{let{width:e,height:n,data:a}=t,r=new Uint16Array(e*n*3),i=0,o=196605;for(let t=0;t<e*n;t++){let e=t<<2,n=a[e]+1;n=n*n-1;let l=a[e+1]+1;l=l*l-1;let s=a[e+2]+1;s=s*s-1,r[e=(t<<1)+t]=n,r[e+1]=l,r[e+2]=s;let c=n+l+s;c>i&&(i=c),c<o&&(o=c)}return{rgb:r,min:o,max:i}},d=t=>{let{rgb:e,max:n,min:a}=g(t),{width:r,height:i}=t,o=new Float32Array(r*i),l=new Float32Array(r*i),s=1/(n-a);for(let t=0;t<o.length;t++){let r=(t<<1)+t,i=e[r]+e[r+1]+e[r+2];l[t]=(i-a)*s,o[t]=(n-i)*s}return{normal:l,invert:o}},v=t=>{let e=t[0][0],n=t[0][1];for(let a=1;a<t.length;a++)e+=t[a][0],n+=t[a][1];return[e/t.length,n/t.length]},p=(t,e)=>{for(let n=0;n<e.length;n++){let a=255*e[n],r=n<<2;t[r]=a,t[r+1]=a,t[r+2]=a,t[r+3]=255}return t};var m=n(226);let x=null,R=m.p8.context(()=>{}),_=t=>1-(1-t)*(1-t),E=(t,e,n)=>{let a=_(n);return t*(1-a)+e*a};class y{set canvas(t){this._canvas=t}get canvas(){return this._canvas}get context(){return this._canvas.getContext("2d",{willReadFrequently:!0})}set devicePixelRatio(t){this._devicePixelRatio=t}get devicePixelRatio(){return this._devicePixelRatio}sizeSync(t,e){if(this._canvas){let{width:n,height:a}=e,r=this._devicePixelRatio,i=Math.max(t.width/n,t.height/a),o=i*r;this.context.save(),this.context.resetTransform();let l=new OffscreenCanvas(this._canvas.width,this._canvas.height),s=l.getContext("2d");s.drawImage(this.context.canvas,0,0),this.context.restore(),this._canvas.width=t.width*r,this._canvas.height=t.height*r,this.context.drawImage(l,0,0);let c=e.cWidth=n*o,h=e.cHeight=a*o,u=e.cx=this.context.canvas.width-c>>1,f=e.cy=this.context.canvas.height-h>>1;this.context.translate(u,f),this.context.scale(o,o)}}clear(){this.context.save(),this.context.fillStyle="white",this.context.beginPath(),this.context.rect(0,0,this.context.canvas.width,this.context.canvas.height),this.context.fill(),this.context.closePath(),this.context.restore()}static getInstance(){return null===y._instance&&(y._instance=new y),y._instance}constructor(){}}y._instance=null;let w=y.getInstance(),I=(t,e,n,r)=>{let i=new Float32Array(2*t);for(let o=0;o<t;o++){let t=0,l=0;for(let i=0,o=!0;i<100&&o;i++)t=Math.floor(a(n)),o=Math.random()>e[(l=Math.floor(a(r)))*n+t]**2;i[2*o]=t,i[2*o+1]=l}return i},O=(t,e,n,a)=>{let{image:r,points:i}=a,{width:o,height:l,imgData:c}=r,h=new s.Z(e),u=Math.max(.1,e.length/i.length);for(let e of(t.save(),t.globalAlpha=u,h.trianglePolygons())){t.beginPath(),t.moveTo(e[0][0],e[0][1]);let[n,a]=v(e),r=(Math.floor(a)*o+Math.floor(n))*4,i="rgb(".concat(c.data[r],",").concat(c.data[r+1],",").concat(c.data[r+2],")");for(let n=1;n<e.length;n++)t.lineTo(e[n][0],e[n][1]);t.fillStyle=i,t.fill()}},S=function(t,e,n){let a,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:10,l=1e3/o,s=!1,c=r,h=()=>{let r=performance.now();(void 0==a||r-a>=l)&&(a=r,c=c<<1<e.length?c<<1:e.length,O(t,e.slice(0,c),n,i),s=c===e.length),i.abort||s||(i.animateID=requestAnimationFrame(h)),s&&(i.abort=!0)};return requestAnimationFrame(h)},P=t=>{b(t),t.generator=function*(t,e,n,a,r){let i=t.length/2,l=new Float32Array(i),c=new Float32Array(2*i),h=new s.Z(t),u=h.voronoi([0,0,e,n]),f=Number.POSITIVE_INFINITY,g=0;for(let s=0;s<r;s++){l.fill(0),c.fill(0);for(let t=0,r=0;t<n;t++)for(let n=0;n<e;n++){r=h.find(n+.5,t+.5,r);let i=a[t*e+n];i&&(l[r]+=i,c[2*r]+=i*(n+.5),c[2*r+1]+=i*(t+.5))}for(let e=0;e<i;e++){let n=t[2*e],a=t[2*e+1],r=l[e];r&&(r<f&&(f=r),r>g&&(g=r),n=E(n,c[2*e]/r,.5214),a=E(a,c[2*e+1]/r,.5214)),t[2*e]=n,t[2*e+1]=a}u.update(),s+1<=r&&(postMessage({state:o.WORK_PROGRESS_ING,progress:(s+1)/r}),yield{points:t,weights:l,skip:!0})}yield{points:t,weights:l,skip:!1},postMessage({state:o.WORK_PROGRESS_COMPLETE,progress:1})}(t.points,t.image.width,t.image.height,t.colorWeights,t.iteration);let e=()=>{let n=t.generator.next();if(!n.done){let{points:a,weights:r,skip:i}=n.value;!i&&a&&r&&(t.points=Float32Array.from(a),A(t),t.animateID=S(w.context,a,r,1,t)),t.id=setTimeout(e,0)}};e()},b=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,{view:n}=t.image,a=w.context;a.save(),a.globalAlpha=e/30;let r={opacity:0};R.kill(!1),R.add(()=>{m.p8.to(r,{duration:.6,opacity:e,ease:"steps(".concat(30,")"),onStart:()=>{},onUpdate:()=>{a.globalAlpha=r.opacity,a.drawImage(n,0,0)},onComplete:()=>{a.restore()}})})},A=t=>{let{width:e,imgData:n}=t.image,a=new s.Z(t.points),r=t.image.view.getContext("2d",{willReadFrequently:!0});for(let t of a.trianglePolygons()){r.beginPath(),r.moveTo(t[0][0],t[0][1]);let[a,i]=v(t),o=(Math.floor(i)*e+Math.floor(a))*4,l="rgb(".concat(n.data[o],",").concat(n.data[o+1],",").concat(n.data[o+2],")");for(let e=1;e<t.length;e++)r.lineTo(t[e][0],t[e][1]);r.fillStyle=l,r.strokeStyle=l,r.lineWidth=1,r.fill(),r.stroke()}},C=(t,e)=>{let n=new ImageData(Uint8ClampedArray.from(t.data),t.width,t.height);return p(n.data,e),n},T=(t,e)=>{let{view:n,imgData:a}=t;n.getContext("2d").putImageData(C(a,e),0,0)},M=async t=>{let{url:e,stage:n}=t;x&&(x.abort(),x=null),x=new AbortController;try{let t=await fetch(e,{signal:x.signal}),a=await t.blob(),r=await createImageBitmap(a),i=await G(r),{width:o,height:l,imgData:s}=i,c=o*l/4,h=d(s);T(i,h.invert);let u=I(c,h.invert,o,l);return w.sizeSync(n,i),{id:null,animateID:null,generator:null,abort:!1,colorWeights:h.invert,iteration:80,points:u,image:i}}catch(t){throw t}finally{x=null}},G=async t=>{let{width:e,height:n}=t,a=new OffscreenCanvas(e,n),r=a.getContext("2d",{willReadFrequently:!0});r.drawImage(t,0,0);let i=r.getImageData(0,0,e,n);return{width:e,height:n,view:a,imgData:i,cx:0,cy:0,scale:1,cWidth:e,cHeight:n}},N=[],F=t=>{let e=N.includes(t);for(;N.length&&!e;){let e=N.shift();e!==t&&(e.abort=!0,clearTimeout(e.id),cancelAnimationFrame(e.animateID),e.generator.return(null))}e?t.abort&&b(t):(N.push(t),postMessage({state:o.WORK_PROGRESS_BEFORE,progress:0}),P(t))};self.onmessage=t=>{let{data:e}=t,{state:n}=e;if(n===o.INITIALIZE&&!w.canvas&&e.canvas)w.canvas=e.canvas,w.devicePixelRatio=e.devicePixelRatio;else if(n===o.IMAGE_CHANGE)M(e).then(F).catch(t=>{console.log("요청실패!!",t)});else if(n===o.SYNC&&N.length){let t=N[N.length-1];w.sizeSync(e.stage,t.image),F(t)}}}},l={};function s(t){var e=l[t];if(void 0!==e)return e.exports;var n=l[t]={exports:{}},a=!0;try{o[t](n,n.exports,s),a=!1}finally{a&&delete l[t]}return n.exports}s.m=o,s.x=function(){var t=s.O(void 0,[957,224,988,674],function(){return s(8185)});return s.O(t)},t=[],s.O=function(e,n,a,r){if(n){r=r||0;for(var i=t.length;i>0&&t[i-1][2]>r;i--)t[i]=t[i-1];t[i]=[n,a,r];return}for(var o=1/0,i=0;i<t.length;i++){for(var n=t[i][0],a=t[i][1],r=t[i][2],l=!0,c=0;c<n.length;c++)o>=r&&Object.keys(s.O).every(function(t){return s.O[t](n[c])})?n.splice(c--,1):(l=!1,r<o&&(o=r));if(l){t.splice(i--,1);var h=a();void 0!==h&&(e=h)}}return e},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,{a:e}),e},s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.f={},s.e=function(t){return Promise.all(Object.keys(s.f).reduce(function(e,n){return s.f[n](t,e),e},[]))},s.u=function(t){return 674===t?"static/chunks/674.e2a342819a50fd35.js":"static/chunks/"+(({224:"f31a4964",957:"59925f94"})[t]||t)+"-"+({224:"44b596b9ecf9e13e",957:"96b9832d7377ad60",988:"4016a422a5ef2b0c"})[t]+".js"},s.miniCssF=function(t){},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.tt=function(){return void 0===e&&(e={createScriptURL:function(t){return t}},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(e=trustedTypes.createPolicy("nextjs#bundler",e))),e},s.tu=function(t){return s.tt().createScriptURL(t)},s.p="https://chaospace.github.io/_next/",n={143:1},s.f.i=function(t,e){n[t]||importScripts(s.tu(s.p+s.u(t)))},r=(a=self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push.bind(a),a.push=function(t){var e=t[0],a=t[1],i=t[2];for(var o in a)s.o(a,o)&&(s.m[o]=a[o]);for(i&&i(s);e.length;)n[e.pop()]=1;r(t)},i=s.x,s.x=function(){return Promise.all([957,224,988,674].map(s.e,s)).then(i)},_N_E=s.x()}();